<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.basic.oaas.dao.CompanyMapper">
  <resultMap id="BaseResultMap" type="com.basic.oaas.model.Company">
    <id column="COMPANY_ID" jdbcType="DECIMAL" property="companyId" />
    <id column="PARENT_ID" jdbcType="DECIMAL" property="parentId" />
    <result column="FULL_NAME" jdbcType="VARCHAR" property="fullName" />
    <result column="CHINESE_NAME" jdbcType="VARCHAR" property="chineseName" />
    <result column="ENGLISH_NAME" jdbcType="VARCHAR" property="englishName" />
    <result column="LOGO" jdbcType="DECIMAL" property="logo" />
    <result column="LEGAL" jdbcType="VARCHAR" property="legal" />
    <result column="BUSINESS" jdbcType="VARCHAR" property="business" />
    <result column="ADDRESS" jdbcType="VARCHAR" property="address" />
    <result column="SOCIAL_CREDIT_CODE" jdbcType="VARCHAR" property="socialCreditCode" />
    <result column="EMAIL" jdbcType="VARCHAR" property="email" />
    <result column="TELEPHONE" jdbcType="VARCHAR" property="telephone" />
    <result column="STATE" jdbcType="VARCHAR" property="state" />
    <result column="CREATE_USER_ID" jdbcType="DECIMAL" property="createUserId" />
    <result column="CREATE_TIME" jdbcType="TIMESTAMP" property="createTime" />
    <result column="MODIFY_USER_ID" jdbcType="DECIMAL" property="modifyUserId" />
    <result column="MODIFY_TIME" jdbcType="TIMESTAMP" property="modifyTime" />
    <result column="REMARKS" jdbcType="VARCHAR" property="remarks" />
    
    <result column="CREATEUSERNAME" jdbcType="VARCHAR" property="createUserName" />
    <result column="MODIFYUSERNAME" jdbcType="VARCHAR" property="modifyUserName" />
    
    <result property="companyCode" column="COMPANY_CODE" jdbcType="VARCHAR"/>
    <result property="absName" column="ABS_NAME" jdbcType="VARCHAR"/>
    <result property="openStatus" column="OPEN_STATUS" jdbcType="NUMERIC"/>
	<result property="openDate" column="OPEN_DATE" jdbcType="TIMESTAMP"/>
	<result property="stopDate" column="STOP_DATE" jdbcType="TIMESTAMP"/>
	<result property="registeredCappital" column="REGISTERED_CAPPITAL" jdbcType="NUMERIC"/>
	<result property="businessLicense" column="BUSINESS_LICENSE" jdbcType="VARCHAR"/>
	<result property="taxRegistrationNumber" column="TAX_REGISTRATION_NUMBER" jdbcType="VARCHAR"/>
	<result property="contact" column="CONTACT" jdbcType="VARCHAR"/>
	<result property="contactMobile" column="CONTACT_MOBILE" jdbcType="VARCHAR"/>
	<result property="contactAddress" column="CONTACT_ADDRESS" jdbcType="VARCHAR"/>
	<result property="fax" column="FAX" jdbcType="VARCHAR"/>
	<result property="website" column="WEBSITE" jdbcType="VARCHAR"/>
	<result property="codePath" column="CODE_PATH" jdbcType="VARCHAR"/>
	<result property="idPath" column="ID_PATH" jdbcType="VARCHAR"/>
	<result property="namePath" column="NAME_PATH" jdbcType="VARCHAR"/>
	<result property="displayIndex" column="DISPLAY_INDEX" jdbcType="NUMERIC"/>
	<result property="contactCounty" column="CONTACT_COUNTY" jdbcType="VARCHAR"/>
	<result property="contactDistrict" column="CONTACT_DISTRICT" jdbcType="VARCHAR"/>
	<result property="contactCity" column="CONTACT_CITY" jdbcType="VARCHAR"/>
	<result property="contactProvince" column="CONTACT_PROVINCE" jdbcType="VARCHAR"/>
	<result property="county" column="COUNTY" jdbcType="VARCHAR"/>
	<result property="district" column="DISTRICT" jdbcType="VARCHAR"/>
	<result property="province" column="PROVINCE" jdbcType="VARCHAR"/>
	<result property="city" column="CITY" jdbcType="VARCHAR"/>
	
	
  </resultMap>
  <sql id="Base_Column_List">
    COMPANY_ID,PARENT_ID, COMPANY_CODE,ABS_NAME,FULL_NAME, CHINESE_NAME, ENGLISH_NAME, LOGO, LEGAL, BUSINESS, ADDRESS, 
    SOCIAL_CREDIT_CODE, EMAIL, TELEPHONE, STATE, CREATE_USER_ID, CREATE_TIME, MODIFY_USER_ID, 
    MODIFY_TIME, REMARKS,OPEN_STATUS,OPEN_DATE,STOP_DATE,REGISTERED_CAPPITAL,BUSINESS_LICENSE,
    TAX_REGISTRATION_NUMBER,CONTACT,CONTACT_MOBILE,CONTACT_ADDRESS,FAX,WEBSITE,CODE_PATH,
    ID_PATH,NAME_PATH,DISPLAY_INDEX,CONTACT_COUNTY,CONTACT_DISTRICT,CONTACT_CITY,CONTACT_PROVINCE,COUNTY,DISTRICT,PROVINCE,CITY
  </sql>
  <select id="selectByPrimaryKey" parameterType="java.math.BigDecimal" resultMap="BaseResultMap">
    select CPY.*,PAR.COMPANY_CODE 'parentCompanyCode',PAR.ABS_NAME 'parentCompanyAbsName',
    OU1.USER_TEXT 'createUserName',OU2.USER_TEXT 'modifyUserName'
    from OAAS_COMPANY CPY
    LEFT JOIN OAAS_COMPANY PAR ON PAR.COMPANY_ID = CPY.PARENT_ID
    LEFT JOIN OAAS_USER OU1 ON OU1.USER_ID = CPY.CREATE_USER_ID
	LEFT JOIN OAAS_USER OU2 ON OU2.USER_ID = CPY.MODIFY_USER_ID
    where CPY.COMPANY_ID = #{companyId,jdbcType=DECIMAL}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.math.BigDecimal">
    delete from OAAS_COMPANY
    where COMPANY_ID = #{companyId,jdbcType=DECIMAL}
  </delete>
  <insert id="insert" parameterType="com.basic.oaas.model.Company">
    insert into OAAS_COMPANY (COMPANY_ID,PARENT_ID, COMPANY_CODE,ABS_NAME
      FULL_NAME, CHINESE_NAME, 
      ENGLISH_NAME, LOGO, LEGAL, 
      BUSINESS, ADDRESS, SOCIAL_CREDIT_CODE, 
      EMAIL, TELEPHONE, STATE, 
      CREATE_USER_ID, CREATE_TIME, MODIFY_USER_ID, 
      MODIFY_TIME, REMARKS,OPEN_STATUS,OPEN_DATE,STOP_DATE,REGISTERED_CAPPITAL,BUSINESS_LICENSE,
      TAX_REGISTRATION_NUMBER,CONTACT,CONTACT_MOBILE,CONTACT_ADDRESS,FAX,WEBSITE,CODE_PATH,
      ID_PATH,NAME_PATH,DISPLAY_INDEX,CONTACT_COUNTY,CONTACT_DISTRICT,CONTACT_CITY,CONTACT_PROVINCE,COUNTY,DISTRICT,PROVINCE,CITY)
    values (#{companyId,jdbcType=DECIMAL}, #{parentId,jdbcType=DECIMAL},#{companyCode,jdbcType=VARCHAR},#{absName,jdbcType=VARCHAR},#{fullName,jdbcType=VARCHAR}, #{chineseName,jdbcType=VARCHAR}, 
      #{englishName,jdbcType=VARCHAR}, #{logo,jdbcType=DECIMAL}, #{legal,jdbcType=VARCHAR}, 
      #{business,jdbcType=VARCHAR}, #{address,jdbcType=VARCHAR}, #{socialCreditCode,jdbcType=VARCHAR}, 
      #{email,jdbcType=VARCHAR}, #{telephone,jdbcType=VARCHAR}, #{state,jdbcType=VARCHAR}, 
      #{createUserId,jdbcType=DECIMAL}, #{createTime,jdbcType=TIMESTAMP}, #{modifyUserId,jdbcType=DECIMAL}, 
      #{modifyTime,jdbcType=TIMESTAMP}, #{remarks,jdbcType=VARCHAR}, #{openStatus,jdbcType=NUMERIC}, 
      #{openDate,jdbcType=TIMESTAMP}, #{stopDate,jdbcType=TIMESTAMP}, #{registeredCappital,jdbcType=NUMERIC},
      #{businessLicense,jdbcType=VARCHAR}, #{taxRegistrationNumber,jdbcType=VARCHAR}, #{contact,jdbcType=VARCHAR}, 
      #{contactMobile,jdbcType=VARCHAR}, #{contactAddress,jdbcType=VARCHAR}, #{fax,jdbcType=VARCHAR}, 
      #{website,jdbcType=VARCHAR},#{codePath,jdbcType=VARCHAR},#{idPath,jdbcType=VARCHAR},
      #{namePath,jdbcType=VARCHAR},#{displayIndex,jdbcType=NUMERIC}, #{contactCounty,jdbcType=VARCHAR}, 
      #{contactDistrict,jdbcType=VARCHAR}, #{contactCity,jdbcType=VARCHAR}, #{contactProvince,jdbcType=VARCHAR}, 
      #{county,jdbcType=VARCHAR}, #{district,jdbcType=VARCHAR}, #{province,jdbcType=VARCHAR}, #{city,jdbcType=VARCHAR})
  </insert>
  <insert id="insertSelective" parameterType="com.basic.oaas.model.Company">
    insert into OAAS_COMPANY
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="companyId != null">
        COMPANY_ID,
      </if>
      <if test="parentId != null">
        PARENT_ID,
      </if>
      <if test="companyCode != null">
        COMPANY_CODE,
      </if>
      <if test="absName != null">
        ABS_NAME,
      </if>
      <if test="fullName != null">
        FULL_NAME,
      </if>
      <if test="chineseName != null">
        CHINESE_NAME,
      </if>
      <if test="englishName != null">
        ENGLISH_NAME,
      </if>
      <if test="logo != null">
        LOGO,
      </if>
      <if test="legal != null">
        LEGAL,
      </if>
      <if test="business != null">
        BUSINESS,
      </if>
      <if test="address != null">
        ADDRESS,
      </if>
      <if test="socialCreditCode != null">
        SOCIAL_CREDIT_CODE,
      </if>
      <if test="email != null">
        EMAIL,
      </if>
      <if test="telephone != null">
        TELEPHONE,
      </if>
      <if test="state != null">
        STATE,
      </if>
      <if test="createUserId != null">
        CREATE_USER_ID,
      </if>
      <if test="createTime != null">
        CREATE_TIME,
      </if>
      <if test="modifyUserId != null">
        MODIFY_USER_ID,
      </if>
      <if test="modifyTime != null">
        MODIFY_TIME,
      </if>
      <if test="remarks != null">
        REMARKS,
      </if>
      <if test="openStatus != null">
        OPEN_STATUS,
      </if>
      <if test="openDate != null">
        OPEN_DATE,
      </if>
      <if test="stopDate != null">
        STOP_DATE,
      </if>
      <if test="registeredCappital != null">
        REGISTERED_CAPPITAL,
      </if>
      <if test="businessLicense != null">
        BUSINESS_LICENSE,
      </if>
      <if test="taxRegistrationNumber != null">
        TAX_REGISTRATION_NUMBER,
      </if>
      <if test="contact != null">
        CONTACT,
      </if>
      <if test="contactMobile != null">
        CONTACT_MOBILE,
      </if>
      <if test="contactAddress != null">
        CONTACT_ADDRESS,
      </if>
      <if test="fax != null">
        FAX,
      </if>
      <if test="website != null">
        WEBSITE,
      </if>
      <if test="codePath != null">
        CODE_PATH,
      </if>
      <if test="idPath != null">
        ID_PATH,
      </if>
      <if test="namePath != null">
        NAME_PATH,
      </if>
      <if test="displayIndex != null">
        DISPLAY_INDEX,
      </if>
      <if test="contactCounty != null">
        CONTACT_COUNTY,
      </if>
      <if test="contactDistrict != null">
        CONTACT_DISTRICT,
      </if>
      <if test="contactCity != null">
        CONTACT_CITY,
      </if>
      <if test="contactProvince != null">
        CONTACT_PROVINCE,
      </if>
      <if test="county != null">
        COUNTY,
      </if>
      <if test="district != null">
        DISTRICT,
      </if>
      <if test="province != null">
        PROVINCE,
      </if>
      <if test="city != null">
        CITY
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="companyId != null">
        #{companyId,jdbcType=DECIMAL},
      </if>
      <if test="parentId != null">
        #{parentId,jdbcType=DECIMAL},
      </if>
      <if test="companyCode != null">
        #{companyCode,jdbcType=VARCHAR},
      </if>
      <if test="absName != null">
        #{absName,jdbcType=VARCHAR},
      </if>
      <if test="fullName != null">
        #{fullName,jdbcType=VARCHAR},
      </if>
      <if test="chineseName != null">
        #{chineseName,jdbcType=VARCHAR},
      </if>
      <if test="englishName != null">
        #{englishName,jdbcType=VARCHAR},
      </if>
      <if test="logo != null">
        #{logo,jdbcType=DECIMAL},
      </if>
      <if test="legal != null">
        #{legal,jdbcType=VARCHAR},
      </if>
      <if test="business != null">
        #{business,jdbcType=VARCHAR},
      </if>
      <if test="address != null">
        #{address,jdbcType=VARCHAR},
      </if>
      <if test="socialCreditCode != null">
        #{socialCreditCode,jdbcType=VARCHAR},
      </if>
      <if test="email != null">
        #{email,jdbcType=VARCHAR},
      </if>
      <if test="telephone != null">
        #{telephone,jdbcType=VARCHAR},
      </if>
      <if test="state != null">
        #{state,jdbcType=VARCHAR},
      </if>
      <if test="createUserId != null">
        #{createUserId,jdbcType=DECIMAL},
      </if>
      <if test="createTime != null">
        #{createTime,jdbcType=TIMESTAMP},
      </if>
      <if test="modifyUserId != null">
        #{modifyUserId,jdbcType=DECIMAL},
      </if>
      <if test="modifyTime != null">
        #{modifyTime,jdbcType=TIMESTAMP},
      </if>
      <if test="remarks != null">
        #{remarks,jdbcType=VARCHAR},
      </if>
      <if test="openStatus != null">
        #{openStatus,jdbcType=NUMERIC}, 
      </if>
      <if test="openDate != null">
        #{openDate,jdbcType=TIMESTAMP},
      </if>
      <if test="stopDate != null">
        #{stopDate,jdbcType=TIMESTAMP},
      </if>
      <if test="registeredCappital != null">
        #{registeredCappital,jdbcType=NUMERIC},
      </if>
      <if test="businessLicense != null">
        #{businessLicense,jdbcType=VARCHAR},
      </if>
      <if test="taxRegistrationNumber != null">
        #{taxRegistrationNumber,jdbcType=VARCHAR},
      </if>
      <if test="contact != null">
        #{contact,jdbcType=VARCHAR},
      </if>
      <if test="contactMobile != null">
        #{contactMobile,jdbcType=VARCHAR},
      </if>
      <if test="contactAddress != null">
        #{contactAddress,jdbcType=VARCHAR},
      </if>
      <if test="fax != null">
        #{fax,jdbcType=VARCHAR}, 
      </if>
      <if test="website != null">
        #{website,jdbcType=VARCHAR},
      </if>
      <if test="codePath != null">
        #{codePath,jdbcType=VARCHAR},
      </if>
      <if test="idPath != null">
        #{idPath,jdbcType=VARCHAR},
      </if>
      <if test="namePath != null">
        #{namePath,jdbcType=VARCHAR},
      </if>
      <if test="displayIndex != null">
        #{displayIndex,jdbcType=NUMERIC},
      </if>
      <if test="contactCounty != null">
        #{contactCounty,jdbcType=VARCHAR},
      </if>
      <if test="contactDistrict != null">
        #{contactDistrict,jdbcType=VARCHAR},
      </if>
      <if test="contactCity != null">
        #{contactCity,jdbcType=VARCHAR},
      </if>
      <if test="contactProvince != null">
        #{contactProvince,jdbcType=VARCHAR},
      </if>
      <if test="county != null">
        #{county,jdbcType=VARCHAR},
      </if>
      <if test="district != null">
        #{district,jdbcType=VARCHAR},
      </if>
      <if test="province != null">
        #{province,jdbcType=VARCHAR},
      </if>
      <if test="city != null">
        #{city,jdbcType=VARCHAR}
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.basic.oaas.model.Company">
    update OAAS_COMPANY
    <set>
      <if test="parentId != null">
        PARENT_ID = #{parentId,jdbcType=DECIMAL},
      </if>
      <if test="fullName != null">
        COMPANY_CODE = #{companyCode,jdbcType=VARCHAR},
      </if>
      <if test="absName != null">
        ABS_NAME = #{absName,jdbcType=VARCHAR},
      </if>
      <if test="fullName != null">
        FULL_NAME = #{fullName,jdbcType=VARCHAR},
      </if>
      <if test="chineseName != null">
        CHINESE_NAME = #{chineseName,jdbcType=VARCHAR},
      </if>
      <if test="englishName != null">
        ENGLISH_NAME = #{englishName,jdbcType=VARCHAR},
      </if>
      <if test="logo != null">
        LOGO = #{logo,jdbcType=DECIMAL},
      </if>
      <if test="legal != null">
        LEGAL = #{legal,jdbcType=VARCHAR},
      </if>
      <if test="business != null">
        BUSINESS = #{business,jdbcType=VARCHAR},
      </if>
      <if test="address != null">
        ADDRESS = #{address,jdbcType=VARCHAR},
      </if>
      <if test="socialCreditCode != null">
        SOCIAL_CREDIT_CODE = #{socialCreditCode,jdbcType=VARCHAR},
      </if>
      <if test="email != null">
        EMAIL = #{email,jdbcType=VARCHAR},
      </if>
      <if test="telephone != null">
        TELEPHONE = #{telephone,jdbcType=VARCHAR},
      </if>
      <if test="state != null">
        STATE = #{state,jdbcType=VARCHAR},
      </if>
      <if test="createUserId != null">
        CREATE_USER_ID = #{createUserId,jdbcType=DECIMAL},
      </if>
      <if test="createTime != null">
        CREATE_TIME = #{createTime,jdbcType=TIMESTAMP},
      </if>
      <if test="modifyUserId != null">
        MODIFY_USER_ID = #{modifyUserId,jdbcType=DECIMAL},
      </if>
      <if test="modifyTime != null">
        MODIFY_TIME = #{modifyTime,jdbcType=TIMESTAMP},
      </if>
      <if test="remarks != null">
        REMARKS = #{remarks,jdbcType=VARCHAR},
      </if>
      <if test="openStatus != null">
        OPEN_STATUS = #{openStatus,jdbcType=NUMERIC}, 
      </if>
      <if test="openDate != null">
        OPEN_DATE = #{openDate,jdbcType=TIMESTAMP},
      </if>
      <if test="stopDate != null">
        STOP_DATE = #{stopDate,jdbcType=TIMESTAMP},
      </if>
      <if test="registeredCappital != null">
        REGISTERED_CAPPITAL = #{registeredCappital,jdbcType=NUMERIC},
      </if>
      <if test="businessLicense != null">
        BUSINESS_LICENSE = #{businessLicense,jdbcType=VARCHAR},
      </if>
      <if test="taxRegistrationNumber != null">
        TAX_REGISTRATION_NUMBER = #{taxRegistrationNumber,jdbcType=VARCHAR},
      </if>
      <if test="contact != null">
        CONTACT = #{contact,jdbcType=VARCHAR},
      </if>
      <if test="contactMobile != null">
        CONTACT_MOBILE = #{contactMobile,jdbcType=VARCHAR},
      </if>
      <if test="contactAddress != null">
        CONTACT_ADDRESS = #{contactAddress,jdbcType=VARCHAR},
      </if>
      <if test="fax != null">
        FAX = #{fax,jdbcType=VARCHAR}, 
      </if>
      <if test="website != null">
        WEBSITE = #{website,jdbcType=VARCHAR},
      </if>
      <if test="codePath != null">
        CODE_PATH = #{codePath,jdbcType=VARCHAR},
      </if>
      <if test="idPath != null">
        ID_PATH = #{idPath,jdbcType=VARCHAR},
      </if>
      <if test="namePath != null">
        NAME_PATH = #{namePath,jdbcType=VARCHAR},
      </if>
      <if test="displayIndex != null">
        DISPLAY_INDEX = #{displayIndex,jdbcType=NUMERIC},
      </if>
       <if test="contactCounty != null">
        CONTACT_COUNTY = #{contactCounty,jdbcType=VARCHAR},
      </if>
      <if test="contactDistrict != null">
        CONTACT_DISTRICT = #{contactDistrict,jdbcType=VARCHAR},
      </if>
      <if test="contactCity != null">
        CONTACT_CITY = #{contactCity,jdbcType=VARCHAR},
      </if>
      <if test="contactProvince != null">
        CONTACT_PROVINCE = #{contactProvince,jdbcType=VARCHAR},
      </if>
      <if test="county != null">
        COUNTY = #{county,jdbcType=VARCHAR},
      </if>
      <if test="district != null">
        DISTRICT = #{district,jdbcType=VARCHAR},
      </if>
      <if test="province != null">
        PROVINCE = #{province,jdbcType=VARCHAR},
      </if>
      <if test="city != null">
        CITY = #{city,jdbcType=VARCHAR}
      </if>
    </set>
    where COMPANY_ID = #{companyId,jdbcType=DECIMAL}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.basic.oaas.model.Company">
    update OAAS_COMPANY
    set PARENT_ID = #{parentId,jdbcType=DECIMAL},
        COMPANY_CODE = #{companyCode,jdbcType=VARCHAR},
        ABS_NAME = #{absName,jdbcType=VARCHAR},
        FULL_NAME = #{fullName,jdbcType=VARCHAR},
        CHINESE_NAME = #{chineseName,jdbcType=VARCHAR},
        ENGLISH_NAME = #{englishName,jdbcType=VARCHAR},
        LOGO = #{logo,jdbcType=DECIMAL},
        LEGAL = #{legal,jdbcType=VARCHAR},
        BUSINESS = #{business,jdbcType=VARCHAR},
        ADDRESS = #{address,jdbcType=VARCHAR},
        SOCIAL_CREDIT_CODE = #{socialCreditCode,jdbcType=VARCHAR},
        EMAIL = #{email,jdbcType=VARCHAR},
        TELEPHONE = #{telephone,jdbcType=VARCHAR},
        STATE = #{state,jdbcType=VARCHAR},
        CREATE_USER_ID = #{createUserId,jdbcType=DECIMAL},
        CREATE_TIME = #{createTime,jdbcType=TIMESTAMP},
        MODIFY_USER_ID = #{modifyUserId,jdbcType=DECIMAL},
        MODIFY_TIME = #{modifyTime,jdbcType=TIMESTAMP},
        REMARKS = #{remarks,jdbcType=VARCHAR},
        OPEN_STATUS = #{openStatus,jdbcType=NUMERIC}, 
        OPEN_DATE = #{openDate,jdbcType=TIMESTAMP},
        STOP_DATE = #{stopDate,jdbcType=TIMESTAMP},
        REGISTERED_CAPPITAL = #{registeredCappital,jdbcType=NUMERIC},
        BUSINESS_LICENSE = #{businessLicense,jdbcType=VARCHAR},
        TAX_REGISTRATION_NUMBER = #{taxRegistrationNumber,jdbcType=VARCHAR},
        CONTACT = #{contact,jdbcType=VARCHAR},
        CONTACT_MOBILE = #{contactMobile,jdbcType=VARCHAR},
        CONTACT_ADDRESS = #{contactAddress,jdbcType=VARCHAR},
        FAX = #{fax,jdbcType=VARCHAR}, 
        WEBSITE = #{website,jdbcType=VARCHAR},
        CODE_PATH = #{codePath,jdbcType=VARCHAR},
        ID_PATH = #{idPath,jdbcType=VARCHAR},
        NAME_PATH = #{namePath,jdbcType=VARCHAR},
        DISPLAY_INDEX = #{displayIndex,jdbcType=NUMERIC},
        CONTACT_COUNTY = #{contactCounty,jdbcType=VARCHAR},
        CONTACT_DISTRICT = #{contactDistrict,jdbcType=VARCHAR},
        CONTACT_CITY = #{contactCity,jdbcType=VARCHAR},
        CONTACT_PROVINCE = #{contactProvince,jdbcType=VARCHAR},
        COUNTY = #{county,jdbcType=VARCHAR},
        DISTRICT = #{district,jdbcType=VARCHAR},
        PROVINCE = #{province,jdbcType=VARCHAR},
        CITY = #{city,jdbcType=VARCHAR}
    where COMPANY_ID = #{companyId,jdbcType=DECIMAL}
  </update>
  

  <select id="selectCompanyList" parameterType="com.basic.oaas.bean.CompanyIbean" resultMap="BaseResultMap">
  	SELECT
		OC.*,OU1.USER_TEXT AS CREATEUSERNAME,
		OU2.USER_TEXT AS MODIFYUSERNAME
	FROM
	OAAS_COMPANY AS OC
	LEFT JOIN OAAS_USER OU1  ON  OU1.USER_ID = OC.CREATE_USER_ID
	LEFT JOIN OAAS_USER OU2  ON  OU2.USER_ID = OC.MODIFY_USER_ID
  	<where>
		<if test="fullName != null and fullName != ''">
			INSTR(FULL_NAME, #{fullName,jdbcType=VARCHAR}) > 0
		</if>
		AND OC.STATE = '10A'
	</where>
	<if test="start != null and limit != null and limit > 0">
      LIMIT #{start}, #{limit}
    </if>
  </select>
  
  <select id="selectCompanyListCount" parameterType="com.basic.oaas.bean.CompanyIbean" resultType="long">
  	SELECT
		COUNT(1)
	FROM
	OAAS_COMPANY AS OC
  	<where>
		<if test="fullName != null and fullName != ''">
			INSTR(FULL_NAME, #{fullName,jdbcType=VARCHAR}) > 0
		</if>
		AND OC.STATE = '10A'
	</where>
  </select>
  
  <update id="updateBatchByCompanyIds">
  	UPDATE OAAS_COMPANY SET STATE  = '10X'
  	WHERE COMPANY_ID IN
  	<foreach close=")" collection="array" index="index" item="companyId" open="(" separator=",">
               #{companyId,jdbcType=DECIMAL}         
    </foreach>
  </update>
  
  <select id="selectByUserId" resultMap="BaseResultMap">
		SELECT 
		 c.COMPANY_ID,c.CHINESE_NAME
		FROM oaas_user u
		LEFT JOIN oaas_user_staff us ON u.USER_ID = us.USER_ID 
		LEFT JOIN oaas_staff s ON s.STAFF_ID = us.STAFF_ID AND s.STATE = '10A'
		LEFT JOIN oaas_staff_job sj ON sj.STAFF_ID = s.STAFF_ID
		LEFT JOIN oaas_job j ON j.JOB_ID = sj.JOB_ID  AND j.STATE = '10A'
		LEFT JOIN oaas_org o ON j.ORG_ID = o.ORG_ID AND o.STATE = '10A'
		LEFT JOIN oaas_org_company oc ON oc.ORG_ID = o.ORG_ID
		LEFT JOIN oaas_company c on c.COMPANY_ID = oc.COMPANY_ID AND c.STATE = '10A'
		WHERE u.USER_ID = #{userId,jdbcType=DECIMAL} and u.STATE = '10A' AND c.COMPANY_ID  != #{companyId,jdbcType=DECIMAL}
		 GROUP BY c.COMPANY_ID 
  </select>
    <select id="selectByOrgId" resultMap="BaseResultMap" parameterType="long">
		SELECT 
		c.COMPANY_ID,c.CHINESE_NAME
		FROM OAAS_COMPANY c
		LEFT JOIN OAAS_ORG_COMPANY oc ON c.COMPANY_ID = oc.COMPANY_ID
		WHERE oc.ORG_ID = #{orgId,jdbcType=DECIMAL} and c.STATE = '10A'
  </select>
  
   <select id="query" parameterType="java.util.Map" resultMap="BaseResultMap">
        SELECT CPY.*,
        (CASE (SELECT COUNT(1) FROM oaas_company WHERE PARENT_ID = CPY.COMPANY_ID) WHEN 0 THEN FALSE ELSE TRUE END) 'isParent',
        OU1.USER_TEXT 'createUserName',OU2.USER_TEXT 'modifyUserName' 
        FROM oaas_company CPY
        LEFT JOIN OAAS_USER OU1  ON  OU1.USER_ID = CPY.CREATE_USER_ID
		LEFT JOIN OAAS_USER OU2  ON  OU2.USER_ID = CPY.MODIFY_USER_ID
        <where>
            CPY.state = '10A'
            <if test="whereSql!=null">
                AND ${whereSql}
            </if>
        </where>
        <if test="orderBySql!=null">
            ORDER BY ${orderBySql}
        </if>
        <if test="orderBySql==null">
            ORDER BY CPY.DISPLAY_INDEX ASC
        </if>
   </select>
   
   <select id="selectAllSubCompanyById" parameterType="com.basic.oaas.model.Company" resultMap="BaseResultMap">
		SELECT *
		FROM OAAS_COMPANY WHERE
		FIND_IN_SET(#{companyId,jdbcType=VARCHAR},ID_PATH) AND COMPANY_ID != #{companyId,jdbcType=VARCHAR}
	</select>
	
	<update id="updateAllStateById">
		UPDATE OAAS_COMPANY SET STATE = '10X' WHERE FIND_IN_SET(#{companyId,jdbcType=VARCHAR},ID_PATH)>0
	</update>
	
	<select id="countCompany" parameterType="java.util.Map" resultType="java.lang.Integer">
		SELECT COUNT(1) FROM OAAS_COMPANY 
		WHERE 1=1
		<if test="parentId!=null">
			AND PARENT_ID = #{parentId}
		</if>
	</select>
	
</mapper>